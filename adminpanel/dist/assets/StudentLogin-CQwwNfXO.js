import{p as k,m as I,g as P,r as p,u as L,c as a,a as O,k as M,b as N,d as W,e as G,f as y,s as R,w as U,h as q,i as z,j as J,_ as Z,o as K,l as Q,n as f,V as ee,q as te,S,t as h,v as oe,x as se,y as ne}from"./index-Bf6RSUpC.js";import{m as ae,c as le,f as ie,a as D,u as ce,V as C,b as X,d as V,e as ue,g as A,h as $}from"./VTextField-DU8IMW_X.js";const de="/assets/schoolLogo3-2TcwTg-N.png",re="/assets/schoolLogo-BnqGitRT.png",fe=k({...I(),...ae()},"VForm"),he=P()({name:"VForm",props:fe(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:o,emit:s}=t;const l=le(e),c=p();function n(u){u.preventDefault(),l.reset()}function m(u){const d=u,v=l.validate();d.then=v.then.bind(v),d.catch=v.catch.bind(v),d.finally=v.finally.bind(v),s("submit",d),d.defaultPrevented||v.then(x=>{var _;let{valid:b}=x;b&&((_=c.value)==null||_.submit())}),d.preventDefault()}return L(()=>{var u;return a("form",{ref:c,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:n,onSubmit:m},[(u=o.default)==null?void 0:u.call(o,l)])}),ie(l,c)}}),me=k({fluid:{type:Boolean,default:!1},...I(),...D()},"VContainer"),ve=P()({name:"VContainer",props:me(),setup(e,t){let{slots:o}=t;const{rtlClasses:s}=O();return L(()=>a(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},s.value,e.class],style:e.style},o)),{}}}),ge=e=>{const{touchstartX:t,touchendX:o,touchstartY:s,touchendY:l}=e,c=.5,n=16;e.offsetX=o-t,e.offsetY=l-s,Math.abs(e.offsetY)<c*Math.abs(e.offsetX)&&(e.left&&o<t-n&&e.left(e),e.right&&o>t+n&&e.right(e)),Math.abs(e.offsetX)<c*Math.abs(e.offsetY)&&(e.up&&l<s-n&&e.up(e),e.down&&l>s+n&&e.down(e))};function ye(e,t){var s;const o=e.changedTouches[0];t.touchstartX=o.clientX,t.touchstartY=o.clientY,(s=t.start)==null||s.call(t,{originalEvent:e,...t})}function _e(e,t){var s;const o=e.changedTouches[0];t.touchendX=o.clientX,t.touchendY=o.clientY,(s=t.end)==null||s.call(t,{originalEvent:e,...t}),ge(t)}function we(e,t){var s;const o=e.changedTouches[0];t.touchmoveX=o.clientX,t.touchmoveY=o.clientY,(s=t.move)==null||s.call(t,{originalEvent:e,...t})}function be(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:o=>ye(o,t),touchend:o=>_e(o,t),touchmove:o=>we(o,t)}}function Se(e,t){var m;const o=t.value,s=o!=null&&o.parent?e.parentElement:e,l=(o==null?void 0:o.options)??{passive:!0},c=(m=t.instance)==null?void 0:m.$.uid;if(!s||!c)return;const n=be(t.value);s._touchHandlers=s._touchHandlers??Object.create(null),s._touchHandlers[c]=n,M(n).forEach(u=>{s.addEventListener(u,n[u],l)})}function xe(e,t){var c,n;const o=(c=t.value)!=null&&c.parent?e.parentElement:e,s=(n=t.instance)==null?void 0:n.$.uid;if(!(o!=null&&o._touchHandlers)||!s)return;const l=o._touchHandlers[s];M(l).forEach(m=>{o.removeEventListener(m,l[m])}),delete o._touchHandlers[s]}const Ve={mounted:Se,unmounted:xe},pe=Symbol.for("vuetify:v-window"),Ce=Symbol.for("vuetify:v-window-group"),ke=k({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...I(),...D(),...N()},"VWindow"),Ie=P()({name:"VWindow",directives:{Touch:Ve},props:ke(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const{themeClasses:s}=W(e),{isRtl:l}=O(),{t:c}=G(),n=ce(e,Ce),m=p(),u=y(()=>l.value?!e.reverse:e.reverse),d=R(!1),v=y(()=>{const i=e.direction==="vertical"?"y":"x",g=(u.value?!d.value:d.value)?"-reverse":"";return`v-window-${i}${g}-transition`}),x=R(0),b=p(void 0),_=y(()=>n.items.value.findIndex(i=>n.selected.value.includes(i.id)));U(_,(i,r)=>{const g=n.items.value.length,Y=g-1;g<=2?d.value=i<r:i===Y&&r===0?d.value=!0:i===0&&r===Y?d.value=!1:d.value=i<r}),q(pe,{transition:v,isReversed:d,transitionCount:x,transitionHeight:b,rootRef:m});const E=y(()=>e.continuous||_.value!==0),B=y(()=>e.continuous||_.value!==n.items.value.length-1);function T(){E.value&&n.prev()}function F(){B.value&&n.next()}const H=y(()=>{const i=[],r={icon:l.value?e.nextIcon:e.prevIcon,class:`v-window__${u.value?"right":"left"}`,onClick:n.prev,"aria-label":c("$vuetify.carousel.prev")};i.push(E.value?o.prev?o.prev({props:r}):a(C,r,null):a("div",null,null));const g={icon:l.value?e.prevIcon:e.nextIcon,class:`v-window__${u.value?"left":"right"}`,onClick:n.next,"aria-label":c("$vuetify.carousel.next")};return i.push(B.value?o.next?o.next({props:g}):a(C,g,null):a("div",null,null)),i}),j=y(()=>e.touch===!1?e.touch:{...{left:()=>{u.value?T():F()},right:()=>{u.value?F():T()},start:r=>{let{originalEvent:g}=r;g.stopPropagation()}},...e.touch===!0?{}:e.touch});return L(()=>z(a(e.tag,{ref:m,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},s.value,e.class],style:e.style},{default:()=>{var i,r;return[a("div",{class:"v-window__container",style:{height:b.value}},[(i=o.default)==null?void 0:i.call(o,{group:n}),e.showArrows!==!1&&a("div",{class:"v-window__controls"},[H.value])]),(r=o.additional)==null?void 0:r.call(o,{group:n})]}}),[[J("touch"),j.value]])),{group:n}}}),w=e=>(se("data-v-ed380453"),e=e(),ne(),e),Pe=w(()=>h("div",{class:"logo-container"},[h("img",{src:de,"max-height":"900","max-width":"900",class:"logo"})],-1)),Le=w(()=>h("div",{class:"text-container text-center"},[h("h1",{class:"mt-10 h2 font-weight-black"},"ST.NICHOLAS ACADEMY OF CASTILLEJOS INC."),h("p",{class:"h6 font-weight-normal"},"CASTILLEJOS, ZAMBALES")],-1)),Ee=w(()=>h("div",{class:"text-center mb-1"},[h("img",{src:re,class:"logo-logo"})],-1)),Be=w(()=>h("span",{class:"sna-text"},[h("h4",{class:"text-center pt-2 pb-3 fs-7 font-weight-black"}," WELCOME STUDENTS! ")],-1)),Te={class:"text-center pb-5",style:{"margin-top":"-15px"}},Fe=w(()=>h("div",{class:"text-center pb-2"},[h("a",{href:"",style:{display:"inline-block"}}," St. Nicholas Academy General Privacy Notice ")],-1)),Ye={data:()=>({step:1,email:"",password:"",errorMessage:"",showPassword:!1}),props:{source:String},created(){this.email="",this.password=""},methods:{async login(){const e=new FormData;e.append("email",this.email),e.append("password",this.password);try{const t=await te.post("login",e);t.status===200&&(console.log(t.data),sessionStorage.setItem("token",t.data.access_token),this.$router.push("/dashboard"),S.fire({title:"Login Successful",icon:"success",timer:2e3,toast:!0,width:"20rem",timerProgressBar:!0,position:"top-end",showConfirmButton:!1}))}catch(t){t.response?t.response.status===401?S.fire({icon:"error",title:"Login Failed",text:"Incorrect email or password"}):S.fire({icon:"error",title:"Login Failed",text:"Invalid credentials. Please try again."}):S.fire({icon:"error",title:"Login Failed",text:"An error occurred while logging in"})}}}},Re=Object.assign(Ye,{__name:"StudentLogin",setup(e){return(t,o)=>(K(),Q(ee,{class:"app"},{default:f(()=>[a(ve,{class:"fill-height",fluid:""},{default:f(()=>[a(X,{align:"center",justify:"center"},{default:f(()=>[a(V,{cols:"12",sm:"7",md:"8"},{default:f(()=>[a(ue,{class:"elevation-12"},{default:f(()=>[a(Ie,{modelValue:t.step,"onUpdate:modelValue":o[3]||(o[3]=s=>t.step=s)},{default:f(()=>[a(X,null,{default:f(()=>[a(V,{cols:"12",md:"6",class:"rectangle-color"},{default:f(()=>[a(A,{class:"white--text mt-16 pt-14 mx-auto"},{default:f(()=>[Pe,Le]),_:1})]),_:1}),a(V,{cols:"12",md:"6"},{default:f(()=>[a(A,{class:"mt-1"},{default:f(()=>[Ee,Be,a(he,{novalidate:"",autocomplete:"off"},{default:f(()=>[a($,{modelValue:t.email,"onUpdate:modelValue":o[0]||(o[0]=s=>t.email=s),label:"Email Address/ Student ID",placeholder:"e.g. 202407360@sna.edu.ph",name:"Email","prepend-icon":"mdi-email",type:"text",color:"var(--dark)"},null,8,["modelValue"]),a($,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=s=>t.password=s),"append-inner-icon":t.showPassword?"mdi-eye":"mdi-eye-off","onClick:appendInner":o[2]||(o[2]=s=>t.showPassword=!t.showPassword),type:t.showPassword?"text":"password",label:"Password",name:"Password","prepend-icon":"mdi-lock",color:"var(--dark)"},null,8,["modelValue","append-inner-icon","type"])]),_:1})]),_:1}),h("div",Te,[a(C,{rectangle:"",color:"var(--dark)",onClick:t.login,style:{color:"white","text-decoration":"none","font-size":"15px"}},{default:f(()=>[oe("Log in")]),_:1},8,["onClick"])]),Fe]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),$e=Z(Re,[["__scopeId","data-v-ed380453"]]);export{$e as default};
